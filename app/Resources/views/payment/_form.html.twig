<div class="portlet-body form">
    {{ form_start( form, {'attr': {'novalidate': 'novalidate'}} ) }}        

    {% if errors|length %}
        <div class="alert alert-error">
            <button class="close" data-dismiss="alert"></button>
            <strong>Error!</strong> Fix all form errors and submit again.
            {#{{ form_errors(form) }}#}
            {{ errors }}
        </div>
    {% endif %}

    <h3 class="form-section">Erf Info</h3>              

    <div class="row-fluid">
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">{{ form_label(form.erf) }}</label>
                    {{ form_errors(form.erf) }}
                <div class="controls">
                    {{ form_widget(form.erf, { 'attr': {'class': 'm-wrap span12 select2'} }) }}
                </div>
            </div>
        </div>
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">Municipality</label>
                <div class="controls">
                    {{ form_errors(form.company) }}
                    {{ form_widget(form.company, { 'attr': {'class': 'm-wrap span12 select2'} }) }}
                </div>
            </div>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">Address</label>
                <div class="display-address"></div>
                <input type="text" id="erfAddress" value="{% if erf.address is defined  %} {{ erf.address }}, {% endif %} {% if erf.section is defined %} {{ erf.section.name }}, {% endif %} {% if erf.location is defined %} {{ erf.location.name }} {% endif %}" class='m-wrap span12 placeholder-no-fix' readonly='readonly'>
            </div>
        </div>
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">Owner</label>
                <div class="display-address"></div>
                <input type="text" id="erfOwner" value="{% if erf.owner is defined  %} {{ erf.owner.firstName }} {{erf.owner.lastName}} {% endif %}" class='m-wrap span12 placeholder-no-fix' readonly='readonly'>
            </div>
        </div>
    </div>

    <h3 class="form-section">Payment Info</h3>            
    <div class="row-fluid">
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">Installment</label>
                <div class="controls">
                    <div class="input-prepend input-append">
                        {{ form_errors(form.amountDue) }}
                        <span class="add-on">ZAR</span>{{ form_widget(form.amountDue, { 'attr': {'class': 'm-wrap span12 placeholder-no-fix','readonly':'readonly'} }) }}<span class="add-on">.00</span>
                    </div>

                </div>
            </div>
        </div>
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">{{ form_label(form.amountReceived) }}</label>
                <div class="controls">
                        {{ form_errors(form.amountReceived) }}
                    <div class="input-prepend input-append">
                        <span class="add-on">ZAR</span>{{ form_widget(form.amountReceived, { 'attr': {'class': 'm-wrap span12 placeholder-no-fix'} }) }}<span class="add-on">.00</span>
                    </div>
                </div>
            </div>
        </div>        
    </div>

    <div class="row-fluid">
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">Payment Outstanding</label>
                <div class="controls">
                        {{ form_errors(form.amountOutstanding) }}
                    <div class="input-prepend input-append">
                        <span class="add-on">ZAR</span>{{ form_widget(form.amountOutstanding, { 'attr': {'class': 'm-wrap span12 placeholder-no-fix','readonly':'readonly'} }) }}<span class="add-on">.00</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">Balance Due</label>
                <div class="controls">
                    <div class="input-prepend input-append">
                        {{ form_errors(form.totalOutstanding) }}
                        <span class="add-on">ZAR</span>{{ form_widget(form.totalOutstanding, { 'attr': {'class': 'm-wrap span12 placeholder-no-fix','readonly':'readonly'} }) }}<span class="add-on">.00</span>
                    </div>
                </div>
            </div>
        </div>        
    </div>
    <div class="row-fluid">
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">Payment Status</label>
                <div class="controls">
                    {{ form_errors(form.paymentStatus) }}
                    {{ form_widget(form.paymentStatus, { 'attr': {'class': 'm-wrap placeholder-no-fix'} }) }}
                </div>
            </div>
        </div>
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">Payment Method</label>
                <div class="controls">
                    {{ form_errors(form.paymentMethod) }}
                    {{ form_widget(form.paymentMethod, { 'attr': {'class': 'm-wrap placeholder-no-fix'} }) }}
                </div>
            </div>
        </div>        
    </div>
    <h3 class="form-section">Payment Received From</h3>                                                
    <div class="row-fluid">
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">Paid By</label>
                <div class="controls">
                    {{ form_errors(form.payedBy) }}
                    {{ form_widget(form.payedBy, { 'attr': {'class': 'm-wrap span12 placeholder-no-fix', 'placeholder':'Type Name'} }) }}
                </div>
            </div>
        </div>
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">Contact</label>
                <div class="controls">
                    {{ form_errors(form.payedByPhone) }}
                    {{ form_widget(form.payedByPhone, { 'attr': {'class': 'm-wrap span12 placeholder-no-fix', 'placeholder':'Type Contact Number'} }) }}
                </div>
            </div>
        </div>        
    </div>
    <div class="row-fluid">
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">Received By</label>
                <div class="controls">
                    {{ form_errors(form.staffEmail) }}
                    {{ form_widget(form.staffEmail, { 'attr': {'class': 'm-wrap span12 placeholder-no-fix', 'readonly':'readonly'} }) }}
                </div>
            </div>
        </div>       
        <div class="span6 ">
            <div class="control-group">
                <label class="control-label">Date</label>
                <div class="controls">
                    {{ form_errors(form.created) }}
                    {{ form_widget(form.created, { 'attr': {'class': 'm-wrap span12 placeholder-no-fix', 'readonly':'readonly'} }) }}
                </div>
            </div>
        </div>
    </div>
    <div class="form-actions">
        {#<button type="submit" class="btn blue"><i class="icon-ok"></i> Save</button>#}
        {{ form_widget(form.submit, { 'attr': {'class': 'btn blue', 'label': '<i class="icon-ok"></i> Save'} }) }}
        <a href="{{ path('payment') }}" class="btn">Cancel</a>
    </div>
    {{form_end(form)}}
</div>